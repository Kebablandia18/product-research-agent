<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ARGUS — Amazon Product Intelligence</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800&family=DM+Mono:wght@400;500&display=swap" />
  <style>
    /* ── Argus Dark Theme ──────────────────────────────────────────── */
    :root {
      --bg-primary: #0b0e14;
      --bg-secondary: #111621;
      --bg-tertiary: #171d2b;
      --bg-card: #131926;
      --bg-card-hover: #1a2236;
      --border-primary: #1e2740;
      --border-accent: rgba(212,149,42,0.2);
      --text-primary: #e2e6f0;
      --text-secondary: #8892a8;
      --text-muted: #555f78;
      --accent: #d4952a;
      --accent-bright: #f0b445;
      --accent-dim: #a07020;
      --accent-glow: rgba(212,149,42,0.13);
      --success: #34d399;
      --error: #f87171;
      --warning: #fbbf24;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: var(--bg-primary);
      color: var(--text-primary);
      font-family: 'Space Grotesk', system-ui, sans-serif;
      -webkit-font-smoothing: antialiased;
      min-height: 100vh;
    }

    /* Subtle grid texture */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(var(--border-primary) 1px, transparent 1px),
        linear-gradient(90deg, var(--border-primary) 1px, transparent 1px);
      background-size: 60px 60px;
      opacity: 0.15;
      pointer-events: none;
      z-index: 0;
    }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: var(--bg-secondary); }
    ::-webkit-scrollbar-thumb { background: var(--border-primary); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--text-muted); }

    .mono { font-family: 'DM Mono', ui-monospace, monospace; }

    /* ── Header ────────────────────────────────────────────────────── */
    header {
      position: sticky; top: 0; z-index: 50;
      background: rgba(11,14,20,0.85);
      backdrop-filter: blur(16px);
      border-bottom: 1px solid var(--border-primary);
    }
    .header-inner {
      max-width: 72rem; margin: 0 auto;
      padding: 0 1.5rem; height: 3.5rem;
      display: flex; align-items: center; justify-content: space-between;
    }
    .logo { display: flex; align-items: center; gap: 0.625rem; }
    .logo-icon {
      width: 2rem; height: 2rem; border-radius: 0.5rem;
      background: var(--accent);
      box-shadow: 0 0 20px var(--accent-glow);
      display: flex; align-items: center; justify-content: center;
    }
    .logo-text { font-weight: 700; font-size: 1.25rem; letter-spacing: -0.02em; }
    .header-badge {
      font-size: 0.65rem; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.1em; color: var(--accent);
      background: var(--accent-glow);
      border: 1px solid var(--border-accent);
      padding: 0.25rem 0.75rem; border-radius: 9999px;
    }

    /* ── Hero ──────────────────────────────────────────────────────── */
    #hero {
      position: relative; z-index: 1;
      min-height: calc(100vh - 3.5rem);
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      padding: 3rem 1.5rem;
    }
    .hero-glow {
      position: absolute; top: -20%; left: 50%; transform: translateX(-50%);
      width: 600px; height: 400px;
      background: radial-gradient(ellipse, var(--accent-glow) 0%, transparent 70%);
      pointer-events: none;
    }
    .hero-content { max-width: 40rem; width: 100%; text-align: center; position: relative; z-index: 1; }
    .hero-title { font-size: 2.5rem; font-weight: 800; letter-spacing: -0.03em; line-height: 1.15; margin-bottom: 0.75rem; }
    .hero-title span { color: var(--accent-bright); }
    .hero-subtitle {
      color: var(--text-muted); font-size: 0.7rem; text-transform: uppercase;
      letter-spacing: 0.2em; margin-bottom: 2.5rem;
    }

    /* ── Search Card ──────────────────────────────────────────────── */
    .search-card {
      background: var(--bg-card);
      border: 1px solid var(--border-primary);
      border-radius: 1rem; padding: 1.5rem;
      text-align: left; transition: border-color 0.2s, box-shadow 0.2s;
    }
    .search-card:focus-within {
      border-color: var(--border-accent);
      box-shadow: 0 0 30px var(--accent-glow);
    }
    .search-label { font-size: 0.7rem; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 0.75rem; }
    .search-row { display: flex; align-items: center; gap: 0.75rem; }
    .search-icon { color: var(--accent); flex-shrink: 0; }
    textarea.search-input {
      flex: 1; background: transparent; border: none; outline: none; resize: none;
      color: var(--text-primary); font-family: 'Space Grotesk', system-ui, sans-serif;
      font-size: 0.9375rem; line-height: 1.5;
    }
    textarea.search-input::placeholder { color: var(--text-muted); }
    .search-actions { display: flex; align-items: center; justify-content: space-between; margin-top: 1rem; }
    .search-hint { font-size: 0.7rem; color: var(--text-muted); }

    .btn-research {
      display: inline-flex; align-items: center; gap: 0.5rem;
      background: var(--accent); color: var(--bg-primary);
      font-weight: 700; font-size: 0.75rem; letter-spacing: 0.08em; text-transform: uppercase;
      padding: 0.625rem 1.25rem; border-radius: 0.5rem; border: none; cursor: pointer;
      transition: opacity 0.15s, transform 0.1s;
    }
    .btn-research:hover { opacity: 0.9; }
    .btn-research:active { transform: scale(0.97); }
    .btn-research:disabled { opacity: 0.3; cursor: not-allowed; }

    /* ── Example Chips ────────────────────────────────────────────── */
    .chips { display: flex; flex-wrap: wrap; justify-content: center; gap: 0.5rem; margin-top: 1.5rem; }
    .chip-label { font-size: 0.7rem; color: var(--text-muted); align-self: center; }
    .chip {
      font-size: 0.7rem; font-weight: 500; color: var(--text-secondary);
      background: var(--bg-card); border: 1px solid var(--border-primary);
      padding: 0.3rem 0.75rem; border-radius: 9999px; cursor: pointer;
      transition: all 0.15s; border: 1px solid var(--border-primary);
    }
    .chip:hover { color: var(--accent-bright); border-color: var(--border-accent); background: rgba(212,149,42,0.06); }

    /* ── Loading Overlay ──────────────────────────────────────────── */
    #loadingState {
      position: fixed; inset: 0; z-index: 40;
      background: rgba(11,14,20,0.92); backdrop-filter: blur(8px);
      display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 1.5rem;
    }
    .spinner {
      width: 36px; height: 36px;
      border: 2px solid var(--border-primary);
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .loading-msg { font-weight: 600; font-size: 1rem; color: var(--text-primary); }
    .loading-sub { font-size: 0.8rem; color: var(--text-muted); }
    .progress-track { width: 16rem; height: 3px; background: var(--bg-tertiary); border-radius: 2px; overflow: hidden; }
    .progress-fill {
      height: 100%; border-radius: 2px;
      background: linear-gradient(90deg, var(--accent-dim), var(--accent-bright));
      transition: width 1.2s ease;
    }

    /* ── Report Section ───────────────────────────────────────────── */
    #reportSection { max-width: 72rem; margin: 0 auto; padding: 2rem 1.5rem 4rem; position: relative; z-index: 1; }

    .report-header { display: flex; flex-wrap: wrap; align-items: center; justify-content: space-between; gap: 1rem; margin-bottom: 2rem; }
    .report-header-left .report-label {
      font-size: 0.65rem; font-weight: 600; color: var(--accent); text-transform: uppercase;
      letter-spacing: 0.15em; margin-bottom: 0.25rem;
    }
    .report-header-left h2 { font-size: 1.75rem; font-weight: 800; letter-spacing: -0.02em; color: var(--text-primary); }
    .report-header-left .report-date { font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem; }
    .report-actions { display: flex; gap: 0.5rem; }

    .btn-ghost {
      display: inline-flex; align-items: center; gap: 0.375rem;
      font-size: 0.75rem; font-weight: 500; color: var(--text-secondary);
      background: var(--bg-card); border: 1px solid var(--border-primary);
      padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer;
      transition: all 0.15s;
    }
    .btn-ghost:hover { color: var(--text-primary); border-color: var(--text-muted); }
    .btn-ghost.accent { color: var(--accent); border-color: var(--border-accent); }
    .btn-ghost.accent:hover { background: var(--accent-glow); }

    /* ── Overview Cards ───────────────────────────────────────────── */
    .overview-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 2rem; }
    @media (max-width: 640px) { .overview-grid { grid-template-columns: repeat(2, 1fr); } }
    .stat-card {
      background: var(--bg-card); border: 1px solid var(--border-primary);
      border-radius: 0.75rem; padding: 1.25rem;
      transition: border-color 0.2s;
    }
    .stat-card:hover { border-color: var(--border-accent); }
    .stat-icon { font-size: 1.25rem; margin-bottom: 0.5rem; }
    .stat-label { font-size: 0.6rem; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 0.25rem; }
    .stat-value { font-size: 0.9375rem; font-weight: 700; color: var(--text-primary); text-transform: capitalize; }

    /* ── Tabs ──────────────────────────────────────────────────────── */
    .tabs-bar {
      display: flex; gap: 0.25rem; background: var(--bg-secondary);
      border: 1px solid var(--border-primary); border-radius: 0.75rem;
      padding: 0.25rem; margin-bottom: 2rem; flex-wrap: wrap;
    }
    .tab-btn {
      flex: 1 1 auto; min-width: 80px;
      padding: 0.5rem 0.75rem; font-size: 0.75rem; font-weight: 500;
      color: var(--text-muted); border-radius: 0.5rem;
      cursor: pointer; border: none; background: transparent;
      transition: all 0.15s;
    }
    .tab-btn:hover { color: var(--text-secondary); background: var(--bg-tertiary); }
    .tab-btn.active { color: var(--accent-bright); background: var(--bg-card); font-weight: 600; }

    /* ── Content Cards ────────────────────────────────────────────── */
    .content-card {
      background: var(--bg-card); border: 1px solid var(--border-primary);
      border-radius: 0.75rem; padding: 1.5rem;
      transition: border-color 0.2s;
    }
    .content-card:hover { border-color: var(--border-accent); }
    .section-title { font-size: 1.125rem; font-weight: 700; color: var(--text-primary); margin-bottom: 0.25rem; }
    .section-subtitle { font-size: 0.8rem; color: var(--text-muted); margin-bottom: 1.5rem; }

    /* ── Badges ────────────────────────────────────────────────────── */
    .badge {
      display: inline-flex; align-items: center;
      font-size: 0.65rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em;
      padding: 0.15rem 0.5rem; border-radius: 9999px;
    }
    .badge-high    { background: rgba(248,113,113,0.12); color: #f87171; }
    .badge-medium  { background: rgba(251,191,36,0.12); color: #fbbf24; }
    .badge-low     { background: rgba(52,211,153,0.12); color: #34d399; }
    .badge-emerging  { background: rgba(96,165,250,0.12); color: #60a5fa; }
    .badge-growing   { background: rgba(52,211,153,0.12); color: #34d399; }
    .badge-mature    { background: rgba(148,163,184,0.12); color: #94a3b8; }
    .badge-declining { background: rgba(248,113,113,0.12); color: #f87171; }

    .pill {
      display: inline-block; font-size: 0.65rem; font-weight: 500;
      padding: 0.15rem 0.5rem; border-radius: 0.375rem;
      background: rgba(212,149,42,0.1); color: var(--accent-bright);
      border: 1px solid rgba(212,149,42,0.15);
    }

    /* ── Lists ─────────────────────────────────────────────────────── */
    .check-list { list-style: none; padding: 0; display: flex; flex-direction: column; gap: 0.375rem; }
    .check-list li { display: flex; align-items: flex-start; gap: 0.5rem; font-size: 0.8125rem; color: var(--text-secondary); }
    .check-list li svg { flex-shrink: 0; margin-top: 2px; }

    /* ── SWOT Grid ─────────────────────────────────────────────────── */
    .swot-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
    .swot-quad { border-radius: 0.75rem; padding: 1.25rem; }
    .swot-quad h4 { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }

    /* ── Error Banner ──────────────────────────────────────────────── */
    #errorBanner {
      position: fixed; bottom: 1.5rem; left: 50%; transform: translateX(-50%); z-index: 50;
      background: rgba(248,113,113,0.15); border: 1px solid rgba(248,113,113,0.3);
      color: var(--error); font-size: 0.8rem; font-weight: 500;
      padding: 0.75rem 1.5rem; border-radius: 0.75rem;
      display: flex; align-items: center; gap: 0.75rem;
      backdrop-filter: blur(12px);
    }

    /* ── Utility ───────────────────────────────────────────────────── */
    .hidden { display: none !important; }
    .fade-in { animation: fadeIn 0.4s ease forwards; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(12px); } to { opacity:1; transform:translateY(0); } }

    .divider { height: 1px; background: var(--border-primary); margin: 1rem 0; }

    .amazon-badge {
      display: inline-flex; align-items: center; gap: 0.25rem;
      font-size: 0.6rem; font-weight: 600;
      background: rgba(212,149,42,0.1); color: var(--accent);
      padding: 0.15rem 0.5rem; border-radius: 9999px;
      border: 1px solid var(--border-accent);
      vertical-align: middle;
    }

    /* ── Competitor avatar ─────────────────────────────────────────── */
    .avatar {
      width: 2.25rem; height: 2.25rem; border-radius: 0.625rem; flex-shrink: 0;
      background: linear-gradient(135deg, var(--bg-tertiary), var(--bg-card-hover));
      border: 1px solid var(--border-primary);
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 0.875rem; color: var(--accent);
    }
  </style>
</head>
<body>

  <!-- ── HEADER ── -->
  <header>
    <div class="header-inner">
      <div class="logo">
        <div class="logo-icon">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" style="color:#0b0e14">
            <circle cx="9" cy="9" r="7" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="9" cy="9" r="3" fill="currentColor"/>
          </svg>
        </div>
        <span class="logo-text">ARGUS</span>
      </div>
      <span class="header-badge mono">Amazon Intelligence</span>
    </div>
  </header>

  <!-- ── HERO / INPUT ── -->
  <section id="hero">
    <div class="hero-glow"></div>
    <div class="hero-content">
      <p class="hero-subtitle mono">Amazon Product Intelligence</p>
      <h1 class="hero-title">Research Any <span>Amazon Market</span> Instantly</h1>

      <!-- Search card -->
      <div class="search-card">
        <p class="search-label mono">Describe the product you want to sell</p>
        <div class="search-row">
          <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <circle cx="8.5" cy="8.5" r="6" stroke="currentColor" stroke-width="1.5"/>
            <path d="M13 13L17 17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <textarea id="productInput" class="search-input" rows="2"
            placeholder="e.g. wireless earbuds under $50, yoga mat for beginners, portable blender..."></textarea>
        </div>
        <div class="search-actions">
          <span class="search-hint mono">Be specific for sharper insights</span>
          <button id="analyzeBtn" class="btn-research mono" onclick="runResearch()">
            <svg width="14" height="14" viewBox="0 0 20 20" fill="none">
              <circle cx="8.5" cy="8.5" r="6" stroke="currentColor" stroke-width="1.5"/>
              <path d="M13 13L17 17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            RESEARCH
          </button>
        </div>
      </div>

      <!-- Example chips -->
      <div class="chips">
        <span class="chip-label mono">Try:</span>
        <button class="chip mono" onclick="setExample('wireless earbuds under $30')">Wireless Earbuds</button>
        <button class="chip mono" onclick="setExample('yoga mat for home workouts')">Yoga Mat</button>
        <button class="chip mono" onclick="setExample('portable blender for protein shakes')">Portable Blender</button>
        <button class="chip mono" onclick="setExample('LED desk lamp with USB charging')">LED Desk Lamp</button>
      </div>
    </div>
  </section>

  <!-- ── LOADING STATE ── -->
  <div id="loadingState" class="hidden">
    <div class="spinner"></div>
    <div style="text-align:center">
      <p class="loading-msg" id="loadingMsg">Analyzing market...</p>
      <p class="loading-sub mono" id="loadingSubMsg">Identifying competitors and trends</p>
    </div>
    <div class="progress-track">
      <div id="progressBar" class="progress-fill" style="width:0%"></div>
    </div>
  </div>

  <!-- ── REPORT SECTION ── -->
  <section id="reportSection" class="hidden fade-in">

    <!-- Report Header -->
    <div class="report-header">
      <div class="report-header-left">
        <p class="report-label mono">Market Research Report</p>
        <h2 id="reportTitle">—</h2>
        <p class="report-date mono" id="reportDate">—</p>
      </div>
      <div class="report-actions">
        <button class="btn-ghost" onclick="scrollToTop()">
          <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 17l-5-5m0 0l5-5m-5 5h12"/></svg>
          New Search
        </button>
        <button class="btn-ghost accent" onclick="exportJSON()">
          <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
          Export JSON
        </button>
      </div>
    </div>

    <!-- Market Overview Cards -->
    <div class="overview-grid" id="overviewCards"></div>

    <!-- Overview Summary -->
    <div id="overviewSummaryWrap"></div>

    <!-- Tabs -->
    <div class="tabs-bar" id="reportTabs">
      <button class="tab-btn active mono" data-tab="competitors" onclick="switchTab('competitors')">Competitors</button>
      <button class="tab-btn mono" data-tab="segments" onclick="switchTab('segments')">Segments</button>
      <button class="tab-btn mono" data-tab="trends" onclick="switchTab('trends')">Trends</button>
      <button class="tab-btn mono" data-tab="gaps" onclick="switchTab('gaps')">Opportunities</button>
      <button class="tab-btn mono" data-tab="swot" onclick="switchTab('swot')">SWOT</button>
      <button class="tab-btn mono" data-tab="strategy" onclick="switchTab('strategy')">Strategy</button>
    </div>

    <!-- Tab Panels -->
    <div id="tab-competitors" class="tab-panel"></div>
    <div id="tab-segments"    class="tab-panel hidden"></div>
    <div id="tab-trends"      class="tab-panel hidden"></div>
    <div id="tab-gaps"        class="tab-panel hidden"></div>
    <div id="tab-swot"        class="tab-panel hidden"></div>
    <div id="tab-strategy"    class="tab-panel hidden"></div>

  </section>

  <!-- ── ERROR BANNER ── -->
  <div id="errorBanner" class="hidden">
    <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"/></svg>
    <span id="errorMsg">An error occurred.</span>
    <button onclick="hideError()" style="background:none;border:none;color:var(--error);cursor:pointer;opacity:0.7;font-size:0.9rem;">✕</button>
  </div>

  <script src="app.js"></script>
</body>
</html>
